---
import Layout from '../layouts/Layout.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';

const base = import.meta.env.BASE_URL;
---

<Layout title="Politique de confidentialité" description="Politique de confidentialité et protection des données personnelles de BubbleStone.ai">
  <Header />
  <div class="page-wrapper">
    <main class="legal-page">
      <div class="legal-hero">
        <div class="container">
          <a href={base} class="back-link">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M19 12H5M12 19l-7-7 7-7"/>
            </svg>
            Retour à l'accueil
          </a>
          <h1>Politique de confidentialité</h1>
          <p class="legal-subtitle">Protection de vos données personnelles conformément au RGPD</p>
        </div>
      </div>

      <div class="legal-content">
        <div class="container">
          <div class="legal-card">
            <section class="legal-section intro-section">
              <p class="intro-text">Chez BubbleStone.ai, nous accordons une importance particulière à la protection de vos données personnelles. Cette politique de confidentialité vous informe sur la manière dont nous collectons, utilisons et protégeons vos informations lorsque vous utilisez notre site web.</p>
            </section>

            <section class="legal-section">
              <h2>
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
                  <circle cx="12" cy="7" r="4"/>
                </svg>
                Responsable du traitement
              </h2>
              <div class="info-grid">
                <div class="info-item">
                  <span class="info-label">Responsable</span>
                  <span class="info-value">Florent Coulon</span>
                </div>
                <div class="info-item">
                  <span class="info-label">Entreprise</span>
                  <span class="info-value">BubbleStone.ai</span>
                </div>
                <div class="info-item">
                  <span class="info-label">Email</span>
                  <span class="info-value"><a href="mailto:florent.coulon@bubblestone.ai">florent.coulon@bubblestone.ai</a></span>
                </div>
                <div class="info-item">
                  <span class="info-label">Adresse</span>
                  <span class="info-value">Saint-Sulpice-et-Cameyrac, France</span>
                </div>
              </div>
            </section>

            <section class="legal-section">
              <h2>
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                  <polyline points="7 10 12 15 17 10"/>
                  <line x1="12" y1="15" x2="12" y2="3"/>
                </svg>
                Données collectées
              </h2>
              <p>Nous collectons uniquement les données que vous nous fournissez volontairement via :</p>

              <div class="data-category">
                <h3>Formulaire de contact</h3>
                <ul>
                  <li>Nom complet</li>
                  <li>Adresse email</li>
                  <li>Numéro de téléphone (optionnel)</li>
                  <li>Sujet de votre demande</li>
                  <li>Message</li>
                </ul>
              </div>

              <div class="data-category">
                <h3>Newsletter</h3>
                <ul>
                  <li>Adresse email</li>
                </ul>
              </div>

              <p class="note">Nous ne collectons aucune donnée de navigation, n'utilisons pas de cookies de tracking et ne partageons aucune information avec des tiers à des fins publicitaires.</p>
            </section>

            <section class="legal-section">
              <h2>
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <circle cx="12" cy="12" r="10"/>
                  <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"/>
                  <line x1="12" y1="17" x2="12.01" y2="17"/>
                </svg>
                Finalités du traitement
              </h2>
              <p>Vos données personnelles sont utilisées exclusivement pour :</p>
              <div class="purpose-list">
                <div class="purpose-item">
                  <div class="purpose-icon">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                      <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/>
                    </svg>
                  </div>
                  <div>
                    <strong>Répondre à vos demandes</strong>
                    <p>Traiter et répondre aux messages envoyés via le formulaire de contact.</p>
                  </div>
                </div>
                <div class="purpose-item">
                  <div class="purpose-icon">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                      <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/>
                      <polyline points="22,6 12,13 2,6"/>
                    </svg>
                  </div>
                  <div>
                    <strong>Envoi de la newsletter</strong>
                    <p>Vous informer de nos actualités et conseils sur l'automatisation (si vous vous êtes inscrit).</p>
                  </div>
                </div>
                <div class="purpose-item">
                  <div class="purpose-icon">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                      <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                      <polyline points="14 2 14 8 20 8"/>
                    </svg>
                  </div>
                  <div>
                    <strong>Établir des devis</strong>
                    <p>Préparer des propositions commerciales suite à vos demandes de projet.</p>
                  </div>
                </div>
              </div>
            </section>

            <section class="legal-section">
              <h2>
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <rect x="3" y="11" width="18" height="11" rx="2" ry="2"/>
                  <path d="M7 11V7a5 5 0 0 1 10 0v4"/>
                </svg>
                Base légale du traitement
              </h2>
              <p>Le traitement de vos données repose sur :</p>
              <ul>
                <li><strong>Votre consentement</strong> : lorsque vous remplissez un formulaire ou vous inscrivez à la newsletter</li>
                <li><strong>L'exécution de mesures précontractuelles</strong> : pour répondre à vos demandes de devis ou d'information</li>
                <li><strong>Notre intérêt légitime</strong> : pour améliorer nos services et notre communication</li>
              </ul>
            </section>

            <section class="legal-section">
              <h2>
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <circle cx="12" cy="12" r="10"/>
                  <polyline points="12 6 12 12 16 14"/>
                </svg>
                Durée de conservation
              </h2>
              <div class="retention-grid">
                <div class="retention-item">
                  <div class="retention-period">3 ans</div>
                  <div class="retention-desc">Données de contact (prospects)</div>
                </div>
                <div class="retention-item">
                  <div class="retention-period">5 ans</div>
                  <div class="retention-desc">Données clients (obligations légales)</div>
                </div>
                <div class="retention-item">
                  <div class="retention-period">Désinscription</div>
                  <div class="retention-desc">Newsletter (suppression immédiate)</div>
                </div>
              </div>
            </section>

            <section class="legal-section">
              <h2>
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
                </svg>
                Sécurité des données
              </h2>
              <p>Nous mettons en œuvre des mesures techniques et organisationnelles appropriées pour protéger vos données personnelles contre tout accès non autorisé, modification, divulgation ou destruction.</p>
              <ul>
                <li>Transmission sécurisée via HTTPS</li>
                <li>Accès restreint aux données personnelles</li>
                <li>Hébergement sur des serveurs sécurisés</li>
                <li>Aucun stockage de données sensibles (paiement, etc.)</li>
              </ul>
            </section>

            <section class="legal-section">
              <h2>
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
                  <circle cx="8.5" cy="7" r="4"/>
                  <polyline points="17 11 19 13 23 9"/>
                </svg>
                Vos droits
              </h2>
              <p>Conformément au Règlement Général sur la Protection des Données (RGPD), vous disposez des droits suivants :</p>
              <div class="rights-grid">
                <div class="right-item">
                  <strong>Droit d'accès</strong>
                  <p>Obtenir une copie de vos données personnelles</p>
                </div>
                <div class="right-item">
                  <strong>Droit de rectification</strong>
                  <p>Corriger des données inexactes ou incomplètes</p>
                </div>
                <div class="right-item">
                  <strong>Droit à l'effacement</strong>
                  <p>Demander la suppression de vos données</p>
                </div>
                <div class="right-item">
                  <strong>Droit à la limitation</strong>
                  <p>Limiter le traitement de vos données</p>
                </div>
                <div class="right-item">
                  <strong>Droit à la portabilité</strong>
                  <p>Recevoir vos données dans un format structuré</p>
                </div>
                <div class="right-item">
                  <strong>Droit d'opposition</strong>
                  <p>Vous opposer au traitement de vos données</p>
                </div>
              </div>
              <p class="exercise-rights">Pour exercer ces droits, contactez-nous à <a href="mailto:florent.coulon@bubblestone.ai">florent.coulon@bubblestone.ai</a>. Nous nous engageons à répondre dans un délai d'un mois.</p>
            </section>

            <section class="legal-section">
              <h2>
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                  <line x1="3" y1="9" x2="21" y2="9"/>
                  <line x1="9" y1="21" x2="9" y2="9"/>
                </svg>
                Cookies
              </h2>
              <p>Notre site n'utilise que des cookies strictement nécessaires au fonctionnement technique du site. Nous n'utilisons pas :</p>
              <ul>
                <li>De cookies publicitaires</li>
                <li>De cookies de tracking ou d'analyse</li>
                <li>De cookies de réseaux sociaux</li>
              </ul>
              <p>Aucun bandeau de consentement n'est donc requis pour notre site.</p>
            </section>

            <section class="legal-section">
              <h2>
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"/>
                </svg>
                Réclamation
              </h2>
              <p>Si vous estimez que le traitement de vos données personnelles constitue une violation du RGPD, vous avez le droit d'introduire une réclamation auprès de la CNIL (Commission Nationale de l'Informatique et des Libertés) :</p>
              <div class="info-grid single">
                <div class="info-item">
                  <span class="info-label">Site web</span>
                  <span class="info-value"><a href="https://www.cnil.fr" target="_blank" rel="noopener noreferrer">www.cnil.fr</a></span>
                </div>
              </div>
              <p class="update-date">Dernière mise à jour : Janvier 2026</p>
            </section>
          </div>
        </div>
      </div>
    </main>
    <Footer />
  </div>
</Layout>

<style>
  .page-wrapper {
    position: relative;
  }

  .legal-page {
    position: relative;
    min-height: 100vh;
  }

  /* Hero Section */
  .legal-hero {
    padding: calc(var(--spacing-3xl) + 80px) 0 var(--spacing-2xl);
    background: linear-gradient(180deg, var(--stone-slate) 0%, var(--stone-dark) 100%);
    position: relative;
  }

  .legal-hero::before {
    content: '';
    position: absolute;
    inset: 0;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
    opacity: 0.04;
    pointer-events: none;
  }

  .legal-hero .container {
    position: relative;
    z-index: 1;
  }

  .back-link {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    color: var(--color-gray-400);
    font-size: 0.9375rem;
    margin-bottom: var(--spacing-lg);
    transition: color var(--transition-base);
  }

  .back-link:hover {
    color: var(--color-accent);
  }

  .legal-hero h1 {
    font-size: clamp(2.5rem, 5vw, 3.5rem);
    color: var(--color-white);
    margin-bottom: var(--spacing-md);
  }

  .legal-subtitle {
    font-size: 1.125rem;
    color: var(--color-gray-400);
    max-width: 600px;
  }

  /* Content Section */
  .legal-content {
    padding: var(--spacing-2xl) 0 var(--spacing-3xl);
    background: var(--color-gray-50);
  }

  .legal-card {
    background: var(--color-white);
    border: 1px solid var(--color-gray-200);
    border-radius: var(--radius-xl);
    padding: var(--spacing-2xl);
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.05);
  }

  .legal-section {
    padding-bottom: var(--spacing-xl);
    margin-bottom: var(--spacing-xl);
    border-bottom: 1px solid var(--color-gray-200);
  }

  .legal-section:last-child {
    padding-bottom: 0;
    margin-bottom: 0;
    border-bottom: none;
  }

  .intro-section {
    background: linear-gradient(135deg, rgba(59, 130, 246, 0.05) 0%, rgba(99, 102, 241, 0.05) 100%);
    padding: var(--spacing-lg);
    border-radius: var(--radius-lg);
    border: 1px solid rgba(59, 130, 246, 0.1);
    margin-bottom: var(--spacing-xl);
  }

  .intro-text {
    font-size: 1.0625rem;
    color: var(--color-gray-700);
    line-height: 1.8;
    margin: 0;
  }

  .legal-section h2 {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    font-size: 1.5rem;
    color: var(--color-primary);
    margin-bottom: var(--spacing-lg);
  }

  .legal-section h2 svg {
    color: var(--color-accent);
    flex-shrink: 0;
  }

  .legal-section h3 {
    font-size: 1.125rem;
    color: var(--color-primary);
    margin-bottom: 0.75rem;
  }

  .legal-section p {
    color: var(--color-gray-600);
    line-height: 1.8;
    margin-bottom: 1rem;
  }

  .legal-section p:last-child {
    margin-bottom: 0;
  }

  .legal-section ul {
    color: var(--color-gray-600);
    line-height: 1.8;
    margin: 1rem 0;
    padding-left: 1.5rem;
  }

  .legal-section li {
    margin-bottom: 0.5rem;
  }

  .legal-section a {
    color: var(--color-accent);
    transition: color var(--transition-base);
  }

  .legal-section a:hover {
    color: var(--color-primary);
  }

  /* Info Grid */
  .info-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 1rem;
  }

  .info-grid.single {
    grid-template-columns: 1fr;
    max-width: 300px;
  }

  .info-item {
    padding: 1rem 1.25rem;
    background: var(--color-gray-50);
    border-radius: var(--radius-md);
    border: 1px solid var(--color-gray-100);
  }

  .info-label {
    display: block;
    font-size: 0.75rem;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    color: var(--color-gray-500);
    margin-bottom: 0.25rem;
  }

  .info-value {
    font-weight: 500;
    color: var(--color-primary);
  }

  .info-value a {
    color: var(--color-accent);
  }

  /* Data Category */
  .data-category {
    background: var(--color-gray-50);
    border-radius: var(--radius-md);
    padding: 1.25rem;
    margin: 1rem 0;
    border-left: 3px solid var(--color-accent);
  }

  .data-category h3 {
    margin-top: 0;
  }

  .data-category ul {
    margin-bottom: 0;
  }

  .note {
    background: rgba(34, 197, 94, 0.1);
    border-left: 3px solid #22c55e;
    padding: 1rem 1.25rem;
    border-radius: 0 var(--radius-md) var(--radius-md) 0;
    color: var(--color-gray-700);
    font-size: 0.9375rem;
  }

  /* Purpose List */
  .purpose-list {
    display: flex;
    flex-direction: column;
    gap: 1rem;
    margin-top: 1rem;
  }

  .purpose-item {
    display: flex;
    gap: 1rem;
    padding: 1.25rem;
    background: var(--color-gray-50);
    border-radius: var(--radius-md);
    border: 1px solid var(--color-gray-100);
  }

  .purpose-icon {
    width: 40px;
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(59, 130, 246, 0.1);
    border-radius: var(--radius-md);
    color: var(--color-accent);
    flex-shrink: 0;
  }

  .purpose-item strong {
    display: block;
    color: var(--color-primary);
    margin-bottom: 0.25rem;
  }

  .purpose-item p {
    margin: 0;
    font-size: 0.9375rem;
  }

  /* Retention Grid */
  .retention-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1rem;
    margin-top: 1rem;
  }

  .retention-item {
    text-align: center;
    padding: 1.5rem;
    background: var(--color-gray-50);
    border-radius: var(--radius-lg);
    border: 1px solid var(--color-gray-100);
  }

  .retention-period {
    font-size: 1.5rem;
    font-weight: 600;
    color: var(--color-accent);
    margin-bottom: 0.5rem;
  }

  .retention-desc {
    font-size: 0.875rem;
    color: var(--color-gray-600);
  }

  /* Rights Grid */
  .rights-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 1rem;
    margin: 1.5rem 0;
  }

  .right-item {
    padding: 1.25rem;
    background: var(--color-gray-50);
    border-radius: var(--radius-md);
    border: 1px solid var(--color-gray-100);
  }

  .right-item strong {
    display: block;
    color: var(--color-primary);
    margin-bottom: 0.5rem;
  }

  .right-item p {
    margin: 0;
    font-size: 0.9375rem;
    color: var(--color-gray-600);
  }

  .exercise-rights {
    background: rgba(59, 130, 246, 0.05);
    padding: 1rem 1.25rem;
    border-radius: var(--radius-md);
    border: 1px solid rgba(59, 130, 246, 0.1);
  }

  .update-date {
    font-size: 0.875rem;
    color: var(--color-gray-400);
    font-style: italic;
    margin-top: var(--spacing-md);
  }

  @media (max-width: 768px) {
    .legal-hero {
      padding: calc(var(--spacing-2xl) + 80px) 0 var(--spacing-xl);
    }

    .legal-card {
      padding: var(--spacing-lg);
    }

    .legal-section h2 {
      font-size: 1.25rem;
    }

    .info-grid,
    .retention-grid,
    .rights-grid {
      grid-template-columns: 1fr;
    }

    .purpose-item {
      flex-direction: column;
    }
  }
</style>
